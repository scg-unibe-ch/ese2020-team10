<hr>
<mat-card>
  <form [(formGroup)]="createOfferForm" (ngSubmit)="onSubmit()">
    <h1  style="margin-left: 1rem">Create Offer</h1>
    <div>
      <div>
        <mat-form-field appearance="fill"  style="margin-left: 1rem">
          <mat-label>Select Type:</mat-label>
          <mat-select matInput formControlName="productOrService">
            <mat-option value="Product">Product</mat-option>
            <mat-option value="Service">Service</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <input [class.is-invalid]="title.touched && title.invalid" type="text" matInput class="form-control" placeholder="Title" formControlName="title" maxlength="40">
          <mat-hint align="end">{{title.value.length}} /40</mat-hint>
          <mat-error *ngIf="(title.invalid && title.touched) || title.dirty || title.errors?.required" class="text.danger">Title is required</mat-error>
        </mat-form-field>

        <mat-form-field [hidden]="isService()" appearance="fill">
          <mat-label>Do you want to ... ?</mat-label>
          <mat-select formControlName="type">
            <mat-option value="Sell">Sell</mat-option>
            <mat-option value="Lend">Lend</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field [hidden]="isService()">
          <textarea [class.is-invalid]="description.touched && description.invalid"  matInput class="form-control" placeholder="Description" formControlName="description" maxlength="5000"></textarea>
          <mat-hint align="end">{{description.value.length}} / 5000</mat-hint>
          <mat-error *ngIf="(description.invalid && description.touched) || description.dirty || description.errors?.required" class="text.danger">Description is required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" style="margin-left: 1rem"> 
          <mat-label>Choose a category</mat-label>
          <mat-select formControlName="selectedCategory">
            <mat-option *ngFor="let category of categories" value="{{category}}">
              {{category}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field [hidden]="isProduct()">
          <textarea [class.is-invalid]="description.touched && description.invalid"  matInput class="form-control" placeholder="Description" formControlName="description" maxlength="5000"></textarea>
          <mat-hint align="end">{{description.value.length}} / 5000</mat-hint>
          <mat-error *ngIf="(description.invalid && description.touched) || description.dirty || description.errors?.required" class="text.danger">Description is required</mat-error>
        </mat-form-field>

        <mat-form-field>
          <input [class.is-invalid]="price.touched && price.invalid" type="text" matInput class="form-control" placeholder="{{priceFormat()}}" formControlName="price">
          <mat-error *ngIf="(price.invalid && price.touched) || price.dirty || price.errors?.required" class="text.danger">Price is required</mat-error>
          <mat-error *ngIf="price.errors?.pattern">Please only enter numbers</mat-error>
        </mat-form-field>

        <mat-form-field [hidden]="isService()" appearance="fill">
          <mat-label>Is delivery available?</mat-label>
          <mat-select formControlName="shippable">
            <mat-option value="true">Yes</mat-option>
            <mat-option value="false">No</mat-option>
          </mat-select>
        </mat-form-field>

        <div [hidden]="isProduct()" appearance="fill">
          <mat-form-field>
            <input type="text" matInput class="form-control" placeholder="Location" formControlName="location">
          </mat-form-field>
        </div>

      </div>
      <div class="custom-file"  style="margin-left: 1rem; width: 97%;">
        <input (change)="onFileChange($event)" formControlName = "file" type="file" class="custom-file-input" id="customFile">
        <label class="custom-file-label" for="customFile">Choose Picture</label>
      </div>


    </div>
    <br>
    <div>
      <button type = "submit" mat-flat-button [disabled] = "!createOfferForm.valid" [class.color] = "createOfferForm.valid">Create Offer</button>
    </div>
  </form>
</mat-card>
